<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        java注解 ::
        码农明明桑
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, viewport-fit=cover" />
<meta
  name="description"
  content="从java 5.0开始，为我们提供注解功能，通过注解可以限制代码的重载，过时，以及实现一些其他功能，这里，就来分析一下java的注解。
"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<meta name="color-scheme" content="light dark" />
<meta name="theme-color" content="#fd281a" />
<link rel="canonical" href="/2015-03-06-java-annotation/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon"
  href="/apple-touch-icon.png"
/>
<link rel="shortcut icon" href="/ming.ico" />
<link rel="manifest" href="/manifest.json" />



<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="java注解"/>
<meta name="twitter:description" content="从java 5.0开始，为我们提供注解功能，通过注解可以限制代码的重载，过时，以及实现一些其他功能，这里，就来分析一下java的注解。"/>



<meta property="og:title" content="java注解" />
<meta property="og:description" content="从java 5.0开始，为我们提供注解功能，通过注解可以限制代码的重载，过时，以及实现一些其他功能，这里，就来分析一下java的注解。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2015-03-06-java-annotation/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-03-06T00:19:19+08:00" />
<meta property="article:modified_time" content="2015-03-06T00:19:19+08:00" />







  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__text">码农明明桑</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/posts/tech/">技术</a></li>
        
      
        
          <li><a href="/posts/photography/">摄影</a></li>
        
      
        
          <li><a href="/archive/">归档</a></li>
        
      
        
          <li><a href="/about/">关于</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/posts/tech/">技术</a></li>
      
    
      
        <li><a href="/posts/photography/">摄影</a></li>
      
    
      
        <li><a href="/archive/">归档</a></li>
      
    
      
        <li><a href="/about/">关于</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">java注解</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2015-03-06
        </span>

        
          
        
      

      


      
    </div>

    
      <span class="post-tags">
        
          <a href="/tags/android/">#android</a>&nbsp;
        
          <a href="/tags/java/">#java</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      
      <p>从java 5.0开始，为我们提供注解功能，通过注解可以限制代码的重载，过时，以及实现一些其他功能，这里，就来分析一下java的注解。</p>
<h3 id="java-元注解">java 元注解</h3>
<p>首先来看java元注解，分别是：</p>
<blockquote>
<p>@Target</p>
</blockquote>
<blockquote>
<p>@Retention</p>
</blockquote>
<blockquote>
<p>@Documented</p>
</blockquote>
<blockquote>
<p>@Inherited</p>
</blockquote>
<p>这些注解和他们所修饰的类在java.lang.annotation包中，代码都很简单，可以去查看一下。</p>
<p>@Target 描述注解的使用范围，取值：</p>
<blockquote>
<p>ElementType.CONSTRUCTOR:描述构造器	
ElementType.FIELD:描述成员变量	
ElementType.VARIABLE: 描述局部变量	
ElementType.METHOD: 描述方法	
ElementType.PACKAGE: 描述包	
ElementType.PARAMETER：描述方法的参数	
ElementType.Type: 描述类，接口（包括注解类型）或enum声明.</p>
</blockquote>
<p>@Retention 注解的声明周期，即在什么级别保留，取值：</p>
<blockquote>
<p>RetentionPoicy.SOURCE :在源文件中有效（在.java文件中有效）    <br>
RetentionPoicy.CLASS: 在class文件中有效
RetentionPoicy.RUNTIME:在运行时有效</p>
</blockquote>
<p>@Documented 用于描述其他类型的annotation应该被作为被标注的程序成员的公共API，可以被javdoc的工具文档化，无成员。</p>
<p>@Inherited 用于标注某个标注是被继承的，即父类中使用了一个Annotation，则子类继承父类的这个annotation，annotation需要标记为RUNTIME的才可以。</p>
<h3 id="java内置注解">java内置注解</h3>
<p>以上是元标记，再看java内置的标准注解，@Override，@Deprecated， @SuppressWarnings</p>
<p>@Override</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Target</span><span style="color:#f92672">(</span>ElementType<span style="color:#f92672">.</span><span style="color:#a6e22e">METHOD</span><span style="color:#f92672">)</span>
<span style="color:#a6e22e">@Retention</span><span style="color:#f92672">(</span>RetentionPolicy<span style="color:#f92672">.</span><span style="color:#a6e22e">SOURCE</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">@interface</span> Override <span style="color:#f92672">{</span>
<span style="color:#f92672">}</span>

</code></pre></div><p>从前面的元注解介绍可以看到，Override用于标注方法，有效期是在源码期间。用于标注方法重写。</p>
<p>@Deprecated</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Documented</span>
<span style="color:#a6e22e">@Retention</span><span style="color:#f92672">(</span>RetentionPolicy<span style="color:#f92672">.</span><span style="color:#a6e22e">RUNTIME</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">@interface</span> Deprecated <span style="color:#f92672">{</span>
<span style="color:#f92672">}</span>

</code></pre></div><p>标注 过时，或者不建议使用，也是会保留到运行时，添加了Documented元标签，这样在生成文档时候，就可以生成过时的标记。</p>
<p>@SuppressWarnings</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Target</span><span style="color:#f92672">({</span>TYPE<span style="color:#f92672">,</span> FIELD<span style="color:#f92672">,</span> METHOD<span style="color:#f92672">,</span> PARAMETER<span style="color:#f92672">,</span> CONSTRUCTOR<span style="color:#f92672">,</span> LOCAL_VARIABLE<span style="color:#f92672">})</span>
<span style="color:#a6e22e">@Retention</span><span style="color:#f92672">(</span>RetentionPolicy<span style="color:#f92672">.</span><span style="color:#a6e22e">SOURCE</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">@interface</span> SuppressWarnings <span style="color:#f92672">{</span>
    String<span style="color:#f92672">[]</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>

</code></pre></div><p>忽略错误报告，有效时是源码级。</p>
<h3 id="自定义注解">自定义注解</h3>
<p>我们再来看看如何自定义注解。自定义的注解就和java内置的注解类似，也需要用到元注解，通过远注解设置那些地方可以使用，设置作用域。比如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Retention</span><span style="color:#f92672">(</span>RetentionPolicy<span style="color:#f92672">.</span><span style="color:#a6e22e">RUNTIME</span><span style="color:#f92672">)</span>
<span style="color:#a6e22e">@Target</span><span style="color:#f92672">(</span>ElementType<span style="color:#f92672">.</span><span style="color:#a6e22e">METHOD</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">@interface</span> MyAnnotation <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">default</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>


<span style="color:#a6e22e">@Retention</span><span style="color:#f92672">(</span>RetentionPolicy<span style="color:#f92672">.</span><span style="color:#a6e22e">SOURCE</span><span style="color:#f92672">)</span>
<span style="color:#a6e22e">@Target</span><span style="color:#f92672">(</span>ElementType<span style="color:#f92672">.</span><span style="color:#a6e22e">METHOD</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">@interface</span> MyNewAnnotation<span style="color:#f92672">{</span>
     String <span style="color:#a6e22e">author</span><span style="color:#f92672">();</span>
     <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">version</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">default</span> 1<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span> <span style="color:#f92672">{</span>
     <span style="color:#a6e22e">@MyAnnotation</span><span style="color:#f92672">(</span>12<span style="color:#f92672">)</span>
     <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isOK</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
         <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
     <span style="color:#f92672">}</span>

     <span style="color:#a6e22e">@MyNewAnnotation</span><span style="color:#f92672">(</span>author<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">“</span>sam<span style="color:#960050;background-color:#1e0010">”</span><span style="color:#f92672">,</span> version<span style="color:#f92672">=</span>2<span style="color:#f92672">)</span>
     <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
         <span style="color:#66d9ef">return</span> 19<span style="color:#f92672">;</span>
     <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>上面前面的代码是定义注解，后面是使用。可以看到使用@interface来定义注解。</p>
<p>注解配置参数名为注解类的方法名，并且方法没有方法体，没有参数没有修饰符，不可以抛异常。返回值只能是基本类型,String,Class,annotation,enumeration，或者他们的一维数组。只有一个默认属性，可以直接用value()函数，没有属性，则这个注解是标记注解。可以加default表示默认值。</p>
<h3 id="android内置注解">Android内置注解</h3>
<p>作为android程序员，我们还是了解一下android中自带的注解，以及用法含义。</p>
<p><code>@SuppressLint</code>： 指示lint检查时忽略注解元素的警告信息。       <br>
<code>@TargetApi</code>:指示lint把当前这个注解元素的target api为指定值，而不是项目设置的target api。       <br>
<code>@NonNull</code>:表示一个成员变量，或者参数，或者方法返回值永远不能为NULL。       <br>
<code>@Nullable</code>:标识一个成员变量，或者参数，方法返回值，可以为NULL。</p>
<p>android.support.annotation包中还有更多的注解可以使用。</p>
<p>另外，<a href="http://codekk.com/open-source-project-analysis/detail/Android/Trinea/%E5%85%AC%E5%85%B1%E6%8A%80%E6%9C%AF%E7%82%B9%E4%B9%8BJava%20%E6%B3%A8%E8%A7%A3%20Annotation">http://codekk.com/open-source-project-analysis/detail/Android/Trinea/%E5%85%AC%E5%85%B1%E6%8A%80%E6%9C%AF%E7%82%B9%E4%B9%8BJava%20%E6%B3%A8%E8%A7%A3%20Annotation</a>对于注解的分析很好，推荐一下。</p>
    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/2015-03-18-android-build-speed-up/">
                  <span class="button__icon">←</span>
                  <span class="button__text">加速Android Studio/Gradle构建</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/2015-02-01-android-view-animation/">
                  <span class="button__text">android动画-View Animation</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        
<p></p>
<script src="//cdn.jsdelivr.net/npm/@waline/client"></script>
<style>
    :root {
        --waline-theme-color: #fd281a;
        --waline-active-color: #e24d42;
    }
</style>
<div id="waline"></div>
  <script>
    Waline({
      el: '#waline',
      serverURL: 'https://my-waline-comments-53wsfjmo5-sangmingming.vercel.app/',
      uploadImage: false,
      dark: "body.dark-theme",
      login: "disable",
      number: 3,
      mathTagSupport: false,
      visitor: true,
      avatar: 'wavatar',
    });
  </script>

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span
          >© 2021 码农明明桑 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
        <span
          >Theme created by
          <a href="https://twitter.com/panr" target="_blank" rel="noopener">panr</a></span
        >
      </div>
    
  </div>
</footer><script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>
<meta name="apple-mobile-web-app-capable" content="yes" />
<script>
    
    if ("serviceWorker" in navigator) {
        
        window.addEventListener("load", () => {
            navigator.serviceWorker.register("/service-worker.js");
        });
    }
</script>


      
    </div>

    
  </body>
</html>
